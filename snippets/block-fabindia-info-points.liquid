{%- comment -%}
  Blocco Fabindia Info Points
  Mostra punti informativi eleganti sul prodotto
{%- endcomment -%}

<div class="fr-info-points-wrapper product-block" {{ block.shopify_attributes }}>
  {%- if block.settings.title != blank -%}
    <h3 class="fr-info-points-title">{{ block.settings.title }}</h3>
  {%- endif -%}
  
  <div class="fr-info-points-container">
    {%- for i in (1..6) -%}
      {%- capture point_icon -%}point_{{ i }}_icon{%- endcapture -%}
      {%- capture point_title -%}point_{{ i }}_title{%- endcapture -%}
      {%- capture point_text -%}point_{{ i }}_text{%- endcapture -%}
      {%- capture point_enabled -%}point_{{ i }}_enabled{%- endcapture -%}
      
      {%- if block.settings[point_enabled] and block.settings[point_title] != blank -%}
        <div class="fr-info-point">
          <div class="fr-info-point-icon">
            {%- case block.settings[point_icon] -%}
              {%- when 'shipping' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9l1.96 2.5H17V9.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" fill="currentColor"/>
                </svg>
              {%- when 'return' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7 7v10l5-5m7-5v10a2 2 0 01-2 2H7a2 2 0 01-2-2V7a2 2 0 012-2h10a2 2 0 012 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              {%- when 'quality' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" fill="currentColor"/>
                </svg>
              {%- when 'handmade' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M19.5 7c-1.38 0-2.5 1.12-2.5 2.5 0 .69.28 1.31.73 1.76L14 15l-3.73-3.74c.45-.45.73-1.07.73-1.76C11 8.12 9.88 7 8.5 7S6 8.12 6 9.5c0 .69.28 1.31.73 1.76l7.27 7.27 7.27-7.27c.45-.45.73-1.07.73-1.76C22 8.12 20.88 7 19.5 7z" fill="currentColor"/>
                </svg>
              {%- when 'sustainable' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                </svg>
              {%- when 'gift' -%}
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 00-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z" fill="currentColor"/>
                </svg>
              {%- when 'custom' -%}
                {%- capture custom_icon_key -%}{{ point_icon }}_custom{%- endcapture -%}
                {%- if block.settings[custom_icon_key] != blank -%}
                  {{ block.settings[custom_icon_key] }}
                {%- else -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                {%- endif -%}
            {%- endcase -%}
          </div>
          <div class="fr-info-point-content">
            <h4 class="fr-info-point-title">{{ block.settings[point_title] }}</h4>
            {%- if block.settings[point_text] != blank -%}
              <p class="fr-info-point-text">{{ block.settings[point_text] }}</p>
            {%- endif -%}
          </div>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>
</div>

<style>
  #shopify-section-{{ section.id }} .fr-info-points-wrapper {
    margin: {{ block.settings.margin_top }}px 0 {{ block.settings.margin_bottom }}px 0;
    padding: {{ block.settings.padding_top }}px {{ block.settings.padding_horizontal }}px {{ block.settings.padding_bottom }}px {{ block.settings.padding_horizontal }}px;
    background-color: {{ block.settings.background_color }};
    border-radius: {{ block.settings.border_radius }}px;
    {%- if block.settings.show_border -%}
      border: 1px solid {{ block.settings.border_color }};
    {%- endif -%}
  }
  
  #shopify-section-{{ section.id }} .fr-info-points-title {
    font-size: {{ block.settings.title_size }}px;
    color: {{ block.settings.title_color }};
    margin-bottom: {{ block.settings.title_margin }}px;
    text-align: {{ block.settings.title_align }};
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }
  
  #shopify-section-{{ section.id }} .fr-info-points-container {
    display: grid;
    grid-template-columns: repeat({{ block.settings.columns_desktop }}, 1fr);
    gap: {{ block.settings.gap }}px;
  }
  
  #shopify-section-{{ section.id }} .fr-info-point {
    display: flex;
    align-items: {{ block.settings.vertical_align }};
    gap: 12px;
    padding: {{ block.settings.item_padding }}px;
    {%- if block.settings.item_background != '#FFFFFF' -%}
      background-color: {{ block.settings.item_background }};
    {%- endif -%}
    border-radius: {{ block.settings.item_border_radius }}px;
    transition: all 0.3s ease;
    {%- if block.settings.item_border -%}
      border: 1px solid {{ block.settings.item_border_color }};
    {%- endif -%}
  }
  
  #shopify-section-{{ section.id }} .fr-info-point:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  
  #shopify-section-{{ section.id }} .fr-info-point-icon {
    flex-shrink: 0;
    width: {{ block.settings.icon_size }}px;
    height: {{ block.settings.icon_size }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: {{ block.settings.icon_color }};
    background-color: {{ block.settings.icon_background }};
    border-radius: {{ block.settings.icon_border_radius }}%;
    padding: 8px;
  }
  
  #shopify-section-{{ section.id }} .fr-info-point-icon svg {
    width: 100%;
    height: 100%;
  }
  
  #shopify-section-{{ section.id }} .fr-info-point-content {
    flex: 1;
  }
  
  #shopify-section-{{ section.id }} .fr-info-point-title {
    font-size: {{ block.settings.point_title_size }}px;
    color: {{ block.settings.point_title_color }};
    margin: 0 0 4px 0;
    font-weight: 500;
    line-height: 1.3;
  }
  
  #shopify-section-{{ section.id }} .fr-info-point-text {
    font-size: {{ block.settings.point_text_size }}px;
    color: {{ block.settings.point_text_color }};
    margin: 0;
    line-height: 1.4;
    opacity: 0.9;
  }
  
  @media only screen and (max-width: 768px) {
    #shopify-section-{{ section.id }} .fr-info-points-container {
      grid-template-columns: repeat({{ block.settings.columns_mobile }}, 1fr);
      gap: {{ block.settings.gap_mobile }}px;
    }
    
    #shopify-section-{{ section.id }} .fr-info-points-title {
      font-size: {{ block.settings.title_size_mobile }}px;
    }
    
    #shopify-section-{{ section.id }} .fr-info-point {
      {%- if block.settings.stack_mobile -%}
        flex-direction: column;
        text-align: center;
      {%- endif -%}
    }
    
    #shopify-section-{{ section.id }} .fr-info-point-title {
      font-size: {{ block.settings.point_title_size_mobile }}px;
    }
    
    #shopify-section-{{ section.id }} .fr-info-point-text {
      font-size: {{ block.settings.point_text_size_mobile }}px;
    }
  }
</style>